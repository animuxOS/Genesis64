#!/bin/sh
#
# $Id: sendjob 784 2004-10-15 03:10:46Z jorge $
#

if [ -f /etc/default/drqueue ]
then
    . /etc/default/drqueue
fi

if [ ! $DRQUEUE_ROOT ]; then
  echo ERROR: DRQUEUE_ROOT not set in environment
  exit 1
fi

if [ ! $DRQUEUE_MASTER ]; then
  echo ERROR: DRQUEUE_MASTER not set in environment
  exit 2
fi

SJ_CMD=$DRQUEUE_ROOT/bin/sendjob.`uname -s`

if [ ! -x $SJ_CMD ]; then
  echo ERROR: sendjob for your platform \(sendjob.`uname -s`\) does not exist in $DRQUEUE_ROOT/bin.
  echo Perhaps you did not install it \(make miniinstall or make install\).
  exit 3
fi

$SJ_CMD $*
